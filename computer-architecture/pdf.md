# PDF

[PDF(en.wikipedia)](https://en.wikipedia.org/wiki/PDF)



PDF（Portable Document Format）は、1993年にAdobeによって開発されたファイル形式で、テキストの書式設定や画像を含む文書を、アプリケーションソフトウェア、ハードウェア、オペレーティングシステムに依存しない方法で表示するためのものです。 PostScript言語に基づいて、各PDFファイルは、テキスト、フォント、ベクターグラフィックス、ラスター画像、および表示に必要なその他の情報を含む、固定レイアウトのフラット文書の完全な記述をカプセル化しています。PDFは2008年にISO 32000として標準化され、その実装のためのロイヤリティを必要としなくなった。

PDFファイルは、フラットテキストやグラフィック以外にも、論理構造化要素、注釈やフォームフィールドなどのインタラクティブ要素、レイヤー、リッチメディア（動画コンテンツを含む）、U3DやPRCを用いた三次元オブジェクトなど、様々なコンテンツを含むことができ、その他にも様々なデータ形式を持つことができます。PDF仕様では、これらの機能を必要とするワークフローを可能にするために、暗号化や電子署名、ファイル添付、メタデータも規定しています。

## 歴史と標準化

 アドビシステムズは1993年にPDFの仕様を無料で利用できるようにしました。初期の頃、PDFは主にデスクトップパブリッシングのワークフローで人気があり、DjVu、Envoy、Common Ground Digital Paper、Farallon Replica、さらにはAdobe独自のPostScriptフォーマットなど、さまざまなフォーマットと競合していました。

PDFは、2008年7月1日にオープンスタンダードとしてリリースされ、国際標準化機構（International Organization for Standardization）によってISO 32000-1:2008として発行されるまで、アドビが管理していたプロプライエタリなフォーマットでした。2008年、アドビはISO 32000-1の公開特許ライセンスを発行し、アドビが所有するPDF準拠の実装を作成、使用、販売、配布するために必要なすべての特許に対してロイヤリティフリーの権利を付与しました。

ISO 32000-1となったPDF仕様の第6版であるPDF 1.7には、Adobe XML Forms Architecture（XFA）やAcrobat用のJavaScript拡張機能など、Adobeのみが定義したいくつかの独自技術が含まれており、これらはISO 32000-1仕様の完全な実装に不可欠な規範としてISO 32000-1で参照されている。これらの独自技術は標準化されておらず、その仕様はAdobeのWebサイトでのみ公開されている また、多くのものはPDFの一般的なサードパーティ製実装ではサポートされていない。

2017年7月28日には、ISO 32000-2:2017（PDF 2.0）が発行された。 ISO 32000-2には、規範的参照としての独自技術は一切含まれていない。



## 技術的な基礎

PDF は 3 つの技術を組み合わせたものです。

- レイアウトとグラフィックを生成するためのPostScriptページ記述プログラミング言語のサブセット。
- フォントを文書と一緒に移動できるようにするためのフォント埋め込み/置換システム。
- 構造化されたストレージシステムで、これらの要素と関連するコンテンツを1つのファイルに束ね、必要に応じてデータ圧縮を行います。

### ポストスクリプト

PostScriptは、画像を生成するためにインタプリタで実行されるページ記述言語で、多くのリソースを必要とするプロセスです。グラフィックやifコマンドやループコマンドなどのプログラミング言語の標準的な機能を扱うことができます。PDFは主にPostScriptをベースにしていますが、これらのようなフロー制御機能を削除するために簡略化されていますが、linetoのようなグラフィックスコマンドは残っています。

多くの場合、PostScriptライクなPDFコードは、ソースのPostScriptファイルから生成されます。PostScriptコードが出力するグラフィックスコマンドは、収集され、トークン化されています。ドキュメントが参照しているファイル、グラフィック、フォントもすべて収集されます。そして、すべてが一つのファイルに圧縮されます。したがって、PostScript の世界全体（フォント、レイアウト、測定値）がそのまま残ります。

文書形式として、PDFにはPostScriptよりもいくつかの利点があります。

PDF には PostScript のソースコードのトークン化された解釈された結果が含まれており、PDF ページ記述内の項目への変更と、結果として得られるページの外観への変更とが直接対応するようになっています。
PDF (バージョン 1.4 以降) は透過グラフィックに対応していますが、PostScript は対応していません。
PostScript は暗黙のグローバル状態を持つ解釈型プログラミング言語なので、あるページの記述に付随する命令は、後続のどのページの外観にも影響を与えます。そのため、 PostScript 文書内のすべての先行ページは、与えられたページの正しい外観を決定するために処理される必要がありますが、PDF 文書内の各ページは他のページの影響を受けません。その結果、PDF ビューアでは、長い文書の最後のページにすばやくジャンプできるのに対し、PostScript ビューアでは、目的のページを表示する前にすべてのページを順次処理する必要があります (オプションの PostScript 文書構造化規約が慎重にコンパイルされて含まれていない限り)。



## Technical overview

### ファイル構造

PDFファイルは、バイナリコンテンツを持つ可能性のある特定の要素を除いて、7ビットのASCIIファイルです。PDF ファイルは、マジックナンバーと %PDF-1.7 などのフォーマットのバージョンを含むヘッダーで始まります。この形式は、COS（「カルーセル」オブジェクト構造）形式のサブセットである。

- 真または偽を表すブール値
- 数字
- ((....)で囲まれた文字列は、8ビット文字を含むことができます。
- 前方スラッシュ (/) で始まる名前
- 配列、角括弧([....])で囲まれたオブジェクトの順序付きコレクション。
- 辞書、二重のとがった括弧で囲まれた名前でインデックス付けされたオブジェクトのコレクション (<<...>>)
- ストリームは、通常は大量のデータを含み、圧縮やバイナリにすることができ、ストリームとエンドストリームのキーワードの間には、辞書が先行しています。
- null オブジェクト

さらに、パーセント記号(%)を使ったコメントがあるかもしれません。 コメントには8ビットの文字を含めることができます。

オブジェクトには、直接オブジェクト（別のオブジェクトに埋め込まれたもの）と間接オブジェクトがあります。 間接オブジ ェ ク ト は、 オブジ ェ ク ト 番号 と 世代番号で番号付け さ れ、 文書ルー ト 内に存在する場合には obj と endobj キーワー ド の間で定義 さ れます。PDF バージ ョ ン 1.5 以降、間接オブジ ェ ク ト （他の ス ト リ ームを除く） は、 オブジ ェ ク ト ス ト リ ーム （/Type /ObjStm と マー ク さ れています） と し て知られている特別な ス ト リ ーム内に位置する こ と も で き ます。こ の手法に よ り 、 非 ス ト リ ームオブジ ェ ク ト に標準の ス ト リ ーム フ ィ ル タ を適用 さ せ る こ と が可能にな り 、 多数の小 さ な間接オブジ ェ ク ト を持つ フ ァ イ ルのサ イ ズを削減 し 、 タ グ付 き PDF に対 し て特に有用です。オブジ ェ ク ト ス ト リ ームは、 オブジ ェ ク ト の生成番号 （0 以外） の指定には対応していません。

相互参照テーブルとも呼ばれるインデックステーブルは、通常、ファイルの末尾付近に配置され、ファイルの先頭からの各間接オブジェクトのバイトオフセットを与えます。PDFバージョン1.5以前では、表は常に特別なASCII形式で、xrefキーワードでマークされ、間接オブジェクトで構成された本体に続いていました。バージ ョ ン 1.5 では、 任意の相互参照ス ト リ ームが導入 さ れました。これは、 標準ス ト リ ームオブジ ェ ク ト の形式を持ち、 フィルタが適用 さ れている可能性があ り ます。このようなストリームは、ASCII相互参照テーブルの代わりに使用することができ、オフセットやその他の情報をバイナリ形式で含みます。こ の形式は、 整数幅指定 （/W 配列を用いて） が可能なので柔軟性があ り 、 た と えばサイズが 64 KiB を超えない文書は、 オブジ ェ ク ト のオ フ セ ッ ト のために 2 バ イ ト だけを割 り 当て る こ と がで き ます。

PDF フ ッ タ PDF フ ァ イ ルの末尾には、以下を含むフッタがあります。

- startxref キーワードの後に、 相互参照テーブルの先頭へのオフセット （xref キーワードで始ま る） または相互参照ス ト リ ームオブジ ェ ク ト
- また、%%EOF エンド・オブ・ファイル・マーカもあります。

相互参照ストリームを使用していない場合は、フッターの前に trailer キーワードが続き、それ以外の場合は相互参照ストリームオブジェクトのディクショナリに含まれるであろう情報を含むディクショナリが続きます。

- ツリー構造のルートオブジェクトへの参照で、カタログ (/Root) としても知られています。
- 相互参照表の間接オブジェクトの数(/Size)
- そして、その他のオプション情報。

PDFファイルには2つのレイアウトがあります：非線形（"最適化 "されていない）と線形（"最適化"）。非線形PDFファイルは、ドキュメントのページを組み立てるために必要なデータの一部がPDFファイル全体に散在しているため、彼らはアクセスするために遅くなりますが、それらの線形対応よりも少ないディスク容量を消費します。 線形PDFファイル（「最適化された」または「Web最適化された」PDFファイルとも呼ばれます）は、ファイル全体のダウンロードを待たずにWebブラウザのプラグインで読み込むことができるような方法で構築されていますが、これは、（ページ順に）線形の方法でディスクに書き込まれるためです。



### イメージングモデル

PDF でグ ラ フ ィ ッ ク を表現す る 方法の基本的なデザ イ ンは、PDF 1.4 で追加 さ れた透過の使用を除けば、 PostScript のそれに非常に似ています。

PDF ｸﾞﾗﾌｨｯｸは、ﾃﾞﾊﾞｲｽに依存しない直交座標系を用いて、ページの表面を記述します。PDF ページ記述では、行列を用いてグ ラ フ ィ ッ ク要素を拡大 ・ 回転 ・ 斜めにす る こ と がで き ます。PDF の主要な概念は、 グ ラ フ ィ ッ ク ス状態の概念であ り 、 グ ラ フ ィ ッ ク ス状態とは、ページ記述によって変更 ・ 保存 ・ 復元で き る グ ラ フ ィ ッ ク パラ メ タ の集合体です。PDF には 24 個のグ ラ フ ィ ッ ク ス状態プ ロ パテ ィ があ り ます （バージ ョ ン 1.6 現在） が、 その中で も 最も重要なものがいくつかあ り ます。

- カ レ ン ト 変換行列 （CTM） は、 座標系を決定 し ます。
- クリッピングパス
- 色彩空間
- 透過性の重要な要素であるアルファ定数



#### ベクターグラフィックス

PostScript の場合と同様に、PDF 内のベ ク ト ルグ ラ フ ィ ッ ク はパ ス を用いて構築 さ れます。パスは通常、線と三次ベジエ曲線で構成されていますが、テキストのアウトラインから構成することもできます。PostScriptとは異なり、PDFでは、テキストのアウトラインと線や曲線が混在するような単一のパスは許可されていません。パスは、ストローク、塗りつぶし、クリッピングが可能です。描線や塗りつぶしは、パターンを含め、グラフィックス状態で設定されている任意の色を使うことができます。

PDF は、 い く つかの種類のパ タ ーンに対応しています。最も単純なのは、 アートワークの一部が繰り返し描かれるように指定されているタイリングパターンです。これは、パターンオブジェクト内で色を指定した色付きのタイリングパターンであってもよいし、色指定をパターンが描かれた時点まで延期する色なしのタイリングパターンであってもよいのです。PDF 1.3 からは、連続的に変化する色を描くシェーディングパターンもあります。シェーディングパターンには7つのタイプがありますが、最も単純なのは軸方向のシェード（タイプ2）と放射状のシェード（タイプ3）です。

#### ラスター画像

PDF 内のラスタ画像 （画像 XObject と 呼ばれています） は、 関連づけ ら れた ス ト リ ームを持つ辞書で表現されます。辞書は画像の特性を記述 し 、 ス ト リ ームは画像デー タ を含んでいます。画像は通常、 圧縮目的でフィルタ処理されます。画像は通常、 圧縮を目的 と し て フ ィ ルタ処理 さ れます。PDF で対応 し てい る 画像フ ィ ル タ には、 以下の汎用フ ィ ル タ があ り ます。

- ASCII85Decode ： ストリームを 7 ビ ッ ト ASCII に入れるために用いられるフィルタ。
- ASCIIHexDecode、ASCII85Decodeに似ていますが、よりコンパクトです。
- FlateDecode、 RFC 1951 で定義 さ れてい る deflate アルゴ リ ズ ムに基づく一般的に使われているフ ィ ルタ （deflate は gzip ・ PNG ・ zip フ ァ イ ル形式等で も 使われています）。それは、よりコンパクトな zlib/deflate 圧縮のための予測関数の 2 つのグループのいずれかを用いることができます：TIFF 6.0 仕様の Predictor 2 と、PNG 仕様 （RFC 2083） の予測子 （フィルタ） です。
- LZWDecode, LZW 圧縮に基づくフィルタ; よりコンパクトな LZW 圧縮のために 2 つの予測関数群のうちの 1 つを使うことができます。よりコンパクトな LZW 圧縮のために 2 つの予測関数群のうちの 1 つを使うことができます: TIFF 6.0 仕様の予測関数 2 と PNG 仕様の予測関数 (フィルタ)。
- RunLengthDecodeは、ランレングスエンコーディングアルゴリズムと画像固有のフィルタを使用して、繰り返しデータを持つストリームのためのシンプルな圧縮方法です。
- JPEG規格をベースにしたロッシーフィルター、DCTDecode。
- CCITTFaxDecode ： ITU-T T.4 ・ T.6 で定義されているグループ 3 またはグループ 4 CCITT （ITU-T）ファクス圧縮標準に基づくロスレス二値 （黒/白） フ ィ ルタ。
- JBIG2Decode、PDF 1.4 で導入された JBIG2 規格に基づく可逆的又は可逆的な二値 （黒／白） フィルタ、及び
- JPXDecodeは、PDF 1.5で導入されたJPEG 2000規格に基づくロッシーまたはロスレスフィルタです。

通常、PDF内のすべての画像内容はファイル内に埋め込まれています。しかし PDF では、 外部ス ト リ ームや代替画像を用いて画像デー タ を外部フ ァ イ ルに格納す る こ と がで き ます。PDF/A ・ PDF/X を含む PDF の標準化 さ れたサブセ ッ ト では、 こ れ ら の機能は禁止 さ れています。

### テキスト

PDF 内のテ キ ス ト は、 ページ内容ス ト リ ーム内のテ キ ス ト 要素で表現 さ れます。テ キ ス ト 要素は、 キ ャ ラ ク タ を特定の位置に描画す る こ と を指定 し ます。キ ャ ラ ク タ は、 選択 さ れた フ ォ ン ト リ ソ ースのエン コ ーデ ィ ン グ を用いて指定 さ れます。

### フォント

PDF 内の フ ォ ン ト オブジ ェ ク ト は、 デジ タ ル書体の記述です。書体の特徴を記述している場合と、埋め込まれたフォントファイルを含んでいる場合があります。後者の場合は埋め込みフォントと呼ばれ、前者の場合は非埋め込みフォントと呼ばれます。埋め込み可能なフォントファイルは、広く使われている標準的なデジタルフォントフォーマットに基づいています。Type 1 （およびその圧縮版 CFF）、TrueType、そして（PDF 1.6 からは）OpenType です。さらに PDF は、フォントの構成要素が PDF グラフィック演算子によって記述される Type 3 バリアントにも対応しています。

標準 Type 1 フォント （標準 14 フォント
標準14書体と呼ばれる14書体は、PDF文書において特別な意味を持っています。

- Times (v3) (レギュラー、イタリック、ボールド、ボールドイタリック)
- クーリエ（レギュラー、斜体、太字斜体、太字斜体の場合
- ヘルベチカ(v3)(レギュラー、斜体、太字斜体、太字斜体の場合)
- シンボル
- ザップフィンディンバット

これらのフォントは基本 14 フォントと呼ばれることもあります 。 これらのフォント、または同じメトリクスを持つ適切な代替フォントは、ほとんどの PDF リーダーで利用できるはずですが、リーダーで利用できることを保証するものではなく、システムにそれらがインストールされている場合にのみ正しく表示される可能性があります。 PDF に埋め込まれていない場合には、フォントを代替することもできます。



### エンコーディング

テ キ ス ト 文字列内では、 キ ャ ラ ク タ は文字 コ ー ド （整数） を用いて表示 さ れ、 こ れはエ ン コ ーデ ィ ン グ を用いてカ レ ン ト フ ォ ン ト 内のグ リ フ にマ ッ プ さ れます。WinAnsi ・ MacRoman ・ 東アジア言語用の多 く のエンコーディングなど、 定義済みのエンコーディングが多数存在し、 フォントは独自のビルトインエンコーディングを持つことができます。(WinAnsi ・ MacRoman エン コ ーデ ィ ン グは Windows ・ Macintosh のオペレーテ ィ ン グ シ ス テ ムの歴史的特性に由来 し てい ますが、 こ れ ら のエン コ ーデ ィ ン グ を用いた フ ォ ン ト はどのプ ラ ッ ト フ ォームで も 等しく動作 し ます)。PDF では、使用する定義済みエンコーディング、フォントの内蔵エンコーディング、または定義済みエンコーディングや内蔵エンコーディングとの相違点のルックアップ表を指定することができます（TrueType フォントでは推奨されません）。

大きなフォントや非標準のグリフを持つフォントでは、特殊なエンコーディング Identity-H (横書き用) と Identity-V (縦書き用) が使用される。こ の よ う な フ ォ ン ト では、 キ ャ ラ ク タ に関す る 意味情報を保持す る 場合には、 ToUnicode テーブルを提供す る 必要があ り ます。

### 透明度

PDF の元々の画像モデルは、PostScript と同様に不透明でした。PDF 1.4では、画像化モデルが拡張され、透明化が可能になりました。透過が使われると、新しいオブジェクトは以前にマークされたオブジェクトと相互作用して混合効果を生み出します。PDF への透過の追加は、PDF 1.3 以前の仕様で書かれた製品では無視されるように設計された新しい拡張機能を用いて行われました。その結果、 少量の透過を用いたフ ァ イ ルは古いビ ュ ーアでは問題なく表示 さ れ る か も し れませんが、 透過を多用 し た フ ァ イ ルは古いビ ュ ーアでは警告な し に誤って表示 さ れ る こ と があ り ま し た。

透過性拡張機能は、透過グループ、ブレンドモード、シェイプ、アルファのキーコンセプトに基づいています。このモデルは、Adobe Illustrator バージョン 9 の機能と密接に連携しています。ブレンドモードは、当時のAdobe Photoshopで使われていたものをベースにしています。PDF 1.4仕様が公開されたときには、ブレンドモードを計算するための公式はAdobeによって秘密にされていました。その後、それらは公開されました。

PDF仕様における透明グループの概念は、Adobe Illustratorなどのアプリケーションにおける既存の「グループ」や「レイヤー」の概念とは独立しています。これらのグループ化は、オブジェクトを編集する際に意味のあるオブジェクト間の論理的な関係を反映していますが、イメージモデルの一部ではありません。





## PostScript

[PostScript(en.wikipedia)](https://en.wikipedia.org/wiki/PostScript)



PostScript（PS）は、電子出版やDTPビジネスにおけるページ記述言語です。動的に型付けされた連結型のプログラミング言語で、1982年から1984年にかけてAdobe Systems社でJohn Warnock、Charles Geschke、Doug Brotz、Ed Taft、Bill Paxtonによって作成されました。



### 歴史

PostScript言語のコンセプトは、1976年にコンピュータグラフィックス会社であるEvans & Sutherland社のJohn Gaffney氏によって生み出されました。当時、GaffneyとJohn Warnockは、ニューヨーク港の大規模な3次元グラフィックスデータベース用のインタプリタを開発していました。

同時に、Xerox PARCの研究者たちは、最初のレーザープリンタを開発し、ページ画像を定義する標準的な手段の必要性を認識していた。1975-76年、ボブ・スプラールとウィリアム・ニューマンがプレス形式を開発し、これが最終的にレーザープリンターを駆動するためにゼロックス・スターシステムで使用されることになりました。しかし、言語ではなくデータ形式であるPressは柔軟性に欠けており、PARCはInterpressの後継フォーマットを作るための努力をしました。

1978年、当時Xerox PARCにいたJohn GaffneyとMartin NewellはJ&MまたはJaM（「John and Martin」の意）を書き、VLSI設計や活字・グラフィック印刷の研究に使用した。この作業は後に進化し、インタープレス言語へと拡大していった。

WarnockはChuck Geschkeとともに退社し、1982年12月にAdobe Systemsを設立した。彼らは、Doug Brotz、Ed Taft、Bill Paxtonとともに、Interpressに似たよりシンプルな言語であるPostScriptを開発し、1984年に発売しました。この頃、スティーブ・ジョブズの訪問を受け、彼はレーザープリンタを駆動するための言語としてPostScriptを使用するように促した。

1985年3月には、Apple LaserWriterがPostScriptを搭載した最初のプリンタとなり、1980年代半ばにDTP（デスクトップ・パブリッシング）革命の火付け役となった。技術的なメリットと普及率の高さから、PostScriptは印刷アプリケーションのグラフィカルな出力に最適な言語となりました。PostScript言語用のインタプリタ（Raster Image ProcessorのRIPと呼ばれることもあります）は、1990年代に入ってからレーザープリンタの一般的なコンポーネントとなりました。

コンピュータは生のPSコードを出力し、それをプリンタが解釈してプリンタの自然な解像度のラスターイメージに変換していました。そのためには、高性能のマイクロプロセッサと十分なメモリが必要でした。LaserWriterには12MHzのMotorola 68000が使われていたが、これはMacintoshのどのコンピュータよりも高速であった。レーザープリンターのエンジン自体が1000ドル以上した頃は、PSの追加コストはわずかだった。しかし、プリンタ機構の価格が下がるにつれ、PSの実装コストはプリンタ全体のコストに占める割合が大きくなりすぎました。さらに、デスクトップコンピュータの高性能化に伴い、リソースが限られたプリンタにラスタライズ作業を任せることはもはや意味がありませんでした。2001年までには、PostScriptをサポートしている低価格のプリンタモデルはほとんどありませんでした。これは主に、はるかに安価な非PostScriptインクジェットプリンタとの競争が激化したことと、コンピュータ上でPostScript画像をレンダリングするための新しいソフトウェアベースの方法が登場し、どのプリンタにも対応できるようになったことによるものです。

ハイエンドのプリンタでは、PostScriptプロセッサが依然として一般的であり、PostScriptプロセッサを使用することで、文書を印刷する際のCPU作業を劇的に減らすことができ、PostScript画像のレンダリング作業をコンピュータからプリンタに移すことができます。



### Font handling

PostScript 自体とほぼ同じくらい複雑なのが、フォントの扱いです。フォントシステムは PS グラフィックプリミティブを使用してグリフを曲線として描画し、それを任意の解像度でレンダリングすることができます。このアプローチでは、多くのタイポグラフィ上の問題を考慮しなければなりませんでした。

その一つは、フォントは小さなサイズでは直線的に拡大縮小されず、グリフの特徴が比例して大きすぎたり小さすぎたりして見栄えが悪くなってしまうという問題です。PostScript では、フォントヒンティングを含めることでこの問題を回避しました。フォントヒンティングとは、ラスタライザが維持するために重要な各文字の特徴を識別するのに役立つ情報を水平または垂直のバンドで追加的に提供するものです。その結果、低解像度でもフォントの見栄えが格段に良くなりました。以前は、このタスクには手作業で調整されたビットマップフォントが必要だと考えられていました。

当時、これらのヒントをフォントに含める技術は慎重に守られており、ヒント付きフォントは圧縮されて暗号化され、AdobeがType 1 Fontと呼ぶものに変換されました（PostScript Type 1 Font、PS1、T1、またはAdobe Type 1としても知られています）。Type 1は、完全な言語であるのとは対照的に、アウトライン情報のみを保存するためのPSシステムを事実上単純化したものでした（この点ではPDFも同様です）。アドビは、独自のフォントにヒントを追加したい人にType 1技術のライセンスを販売していました。この技術のライセンスを取得しなかった人々には、Type 3フォント（PostScript Type 3 Font、PS3またはT3としても知られている）が残されました。Type 3フォントは、PostScript言語の洗練された機能をすべて備えていましたが、ヒントの標準化されたアプローチはありませんでした。

Type 2 フォントフォーマットは、Compact Font Format (CFF) の文字列と一緒に使用するように設計されており、全体的なフォントファイルのサイズを小さくするために実装された。CFF/Type2 書式は後に OpenType フォントで PostScript アウトラインを扱うための基礎となりました。

CID キー付きフォント形式もまた、OCF/Type 0 フ ォ ン ト の問題を解決す る ために設計 さ れ、 複雑なアジア言語 （CJK） エン コ ーデ ィ ン グ と 非常に大 き なキ ャ ラ ク タ セ ッ ト の問題に対処す る ために設計 さ れました。CIDキー付きフォントフォーマットは、標準的なCIDキー付きフォントの場合はType1フォントフォーマット、CIDキー付きOpenTypeフォントの場合はType2フォントフォーマットを使用することができます。

Adobeのシステムに対抗するために、Appleは1991年頃に独自のシステムであるTrueTypeを設計した。TrueTypeの発表直後、AdobeはType1フォントフォーマットの仕様を公開した。Altsys Fontographer（1995年1月にMacromediaに買収され、2005年5月からFontLabが所有）のようなリテールツールでは、Type 1フォントを作成する機能が追加された。それ以来、多くのフリーのType 1フォントがリリースされており、例えば、TeX組版システムで使用されているフォントはこのフォーマットで利用できる。

1990年代初頭には、Bitstream社やMETAFONT社などが開発したアウトラインベースのフォントを格納するシステムが他にもいくつかありましたが、汎用的な印刷ソリューションが含まれていなかったため、広く利用されることはありませんでした。

1990年代後半、AdobeはMicrosoftと共同でOpenTypeを開発しました。PostScript 出力デバイスに印刷する場合、OpenType フォントの不要な部分は省略され、ドライバがデバイスに送るものは、OpenType フォントにどのようなアウトラインが含まれているかに応じて、TrueType または Type 1 フォントの場合と同じです。



# Rasterisation

[Rasterisation(en.wikipedia)](https://en.wikipedia.org/wiki/Rasterisation)



ラスタライズ（またはラスタライズ）とは、ベクターグラフィックス形式（図形）で記述された画像を取り込み、ラスタ画像（一連のピクセル、ドット、またはラインであり、それらを一緒に表示すると、図形で表現された画像を作成する）に変換する作業である。 ラスタライズされた画像は、コンピュータのディスプレイ、ビデオディスプレイ、プリンタに表示されたり、ビットマップファイル形式で保存されたりする。ラスタライズとは、3Dモデルを描画する技術や、ポリゴンや線分などの2Dレンダリングプリミティブをラスタライズされたフォーマットに変換することを指す場合がある。



# Vector graphics

[Vector_graphics(en.wikipedia)](https://en.wikipedia.org/wiki/Vector_graphics)



ベクトルグラフィックスは、ポリゴンや他の形状を形成するために線や曲線によって接続されている直交平面上のポイントの面で定義されているコンピュータグラフィックスのイメージです。ベクトル・グラフィックスに、ポイント、ライン、およびカーブがエイリアシングなしで任意の解像度にスケールアップまたはスケールダウンすることができるという点で、ラスター・グラフィックス上のユニークな利点があります。点はベクトルパスの方向を決定します; 各パスはストロークの色、形状、曲線、太さ、塗りつぶしの値を含む様々なプロパティを持つことができます。

ベクトル表示デバイスは、コンピュータメモリの大きな領域を分割して表示デバイスにマッピングするのではなく、画像を作成するために可変数の線を使用します。ベクトル表示デバイスは2つの点（つまり、線の各端の座標）だけを扱うことで線を定義できるので、画像を点のペアで整理することで、デバイスが扱わなければならないデータの総量を減らすことができます。

ベクターグラフィックスは、今日では一般的にSVG、EPS、PDFまたはAIタイプのグラフィックファイル形式で見られ、JPEG、PNG、APNG、GIF、MPEG4などのより一般的なラスターグラフィックスファイル形式とは本質的に異なります。



<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/aa/VectorBitmapExample.svg/1920px-VectorBitmapExample.svg.png" alt="img" style="zoom:25%;" />

### 概要

ベクトルグラフィックディスプレイは1958年に米国のSAGE防空システムで初めて使用された。 ベクトルグラフィックシステムは1999年に米国の航空交通管制から撤退した[citation needed]。 ベクトルグラフィックは1963年にコンピュータグラフィックのパイオニアであるアイヴァン・サザーランドがMITリンカーン研究所のTX-2で彼のプログラムであるスケッチパッドを実行するためにも使用された。

その後のベクターグラフィックスシステムは、そのほとんどが動的に変更可能な描画命令の保存リストを使って反復したもので、IBM 2250、Imlac PDS-1、DEC GT40などがあります。Vectrexと呼ばれるベクターグラフィックスを使用したビデオゲーム機や、ベクターモニタを使用したAsteroids、Space Wars、Rip-Off、Tail Gunnerなどの多くのシネマトロニックタイトルのような様々なアーケードゲームがあった。

最新のベクター・グラフィックス・ディスプレイは、2つの高速移動するX-Yミラーがビームを配置し、スクリーン上に直線や曲線のストロークとして図形やテキストを迅速に描画するレーザー・ライト・ショーで見られることがある。

ベクトルグラフィックは、ペンプロッタを使用した形で作成することができます。ペンプロッタとは、サーボ駆動のマウント上でボールペンとフェルトペンを使用する特殊なタイプのプリンタのことで、紙を横切って水平方向に移動し、プロッタが紙のパスを通って紙を前後に移動させて垂直方向に移動させます。一般的なプロッタでは数千枚の紙を往復させる必要があるかもしれませんが、紙が滑ることはありません。日本のアルプス製の小型ロールフィードプロッタでは、細いスプロケットの歯が、1パス目に紙の端付近をくぼませ、その後のパスでも見当を維持していました。

ヒューレット・パッカード社のペンプロッタの中には、2軸のペンキャリアと文房具用紙を備えたものもありました（プロットサイズは限られていました）。しかし、動く紙のH-Pプロッタには、最初のパスで紙の表面にくぼみをつけ、まとめて見当合わせを維持するグリットホイール（工作機械の研削砥石のようなもの）が付いていました。

今日のエンジニアリング図面などのベクターグラフィックファイルは、通常、ベクターからラスターへの変換後、ビットマップとして印刷されています。

ベクターグラフィックス」という用語は、主に二次元コンピュータグラフィックスの文脈で今日使用されています。これは、アーティストがラスターディスプレイ上でイメージを作成するために使用できるいくつかのモードの1つです。ベクターグラフィックスは、他のデザイナーがダウンロードして操作できるようにオンラインデータベースにアップロードすることができ、創造的なプロセスをスピードアップさせることができます。その他のモードには、テキスト、マルチメディア、3D レンダリングなどがあります。事実上、現代のすべての3Dレンダリングは、2Dベクターグラフィックス技術の拡張を使用して行われています。技術的な描画に使用されるプロッタは、今でもベクターを直接紙に描画します。



## Raster graphics

[Raster_graphics(en.wikipedia)](https://en.wikipedia.org/wiki/Raster_graphics)

コンピュータグラフィックスおよびデジタル写真では、ラスタグラフィックスまたはビットマップ画像は、ビットマップディスプレイ（モニタ）、紙、または他の表示媒体を介して表示可能な、一般的に長方形の格子状のピクセル（色の点）を表すドットマトリクスデータ構造である。ラスター画像は、普及・制作・生成・取得形式が異なる画像ファイルに格納されている。

印刷・製版業界では、ラスタ画像をコントーン（「連続したトーン」から）と呼んでいます。コントーンの反対語は「ラインワーク」であり、通常はデジタルシステムでベクターグラフィックスとして実装される。

ビットマップは、ピクセルの長方形のグリッドであり、各ピクセルの色は数ビットで指定される 。 ビットマップは、ディスプレイのビデオメモリに保存するために作成される場合と、デバイスに依存しないビットマップファイルとして作成される場合がある。

一般的なピクセル形式には、モノクロ、グレースケール、パレタイズド、フルカラーがあり、色深度によって表現される色の忠実度が決まり、色空間によって色のカバー範囲が決まる（人間の色覚のフルレンジよりも小さいことが多い）。高解像度のデジタル画像は、特に色深度が高い場合には、保存に時間がかかります。ヴェラ C. ルービン天文台の大型 CCD ビットマップセンサーは、人間の色覚のスペクトル範囲を超える 6 つのカラーチャンネルをカバーする 3.2 ギガピクセルの画像を 1 枚の画像（6.4 GB の生画像）に収めています。制作中、ラスター画像は、ストレージと帯域幅管理の理由から、さまざまな解像度と色深度で存在する可能性があります。

ベクトル画像（線画）は、ソフトウェアによって、ラスタライズ（画素化）とラスタ画像のベクトル化（ラスタ画像をベクトルグラフィックに変換）を行うことができます。どちらの場合も情報は失われますが、光学的な文字認識の場合のように、ベクター化操作によっては重要な情報を再現することができます。

1920年代に開発された初期の機械式テレビは、ラスタライズの原理を採用しています。ブラウン管ディスプレイをベースにした電子テレビは、水平方向のラスタが左から右に描かれ、ラスタ線が上から下に描かれたラスタスキャンされています（コンピュータのモニターの上面は最も一般的に横向きに参照され、印刷されたページの上面は最も一般的に縦向きに参照され、流れに逆らうと画像の回転が必要です）。上から下への左から右への配置は、大部分のビットマップファイルフォーマットやVGAやDVIなどのラスタライズされたディスプレイの相互接続では、従来のピクセル構成のままです。

多くのラスタ操作は、行列構造の数学的オブジェクトが中心的な関心事である線形代数の数学的形式に直接対応しています。

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/Rgb-raster-image.svg/2560px-Rgb-raster-image.svg.png" alt="img" style="zoom:25%;" />